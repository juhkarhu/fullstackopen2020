{"version":3,"sources":["components/SearchForm.js","components/AddBlogForm.js","components/DisplayBlog.js","services/contacts.js","components/Notification.js","services/login.js","components/LoginForm.js","App.js","index.js"],"names":["SearchForm","props","onChange","AddPersonForm","onSubmit","value","titleValue","onTitleChange","authorValue","onAuthorChange","urlValue","onUrlChange","type","DisplayBlog","blog","toggleDelete","toggleLike","className","title","author","likes","onClick","baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","remove","id","console","log","delete","put","setToken","newToken","Notification","message","exportedObject","login","credentials","LoginForm","usernameValue","name","onUsernameChange","passwordValue","onPasswordChange","App","useState","blogs","setBlogs","notificationMessage","setNotificationMessage","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","searchTerm","setSearchTerm","blogsToShow","filter","toLowerCase","includes","setClassName","username","setUsername","password","setPassword","user","setUser","fetchPosts","useCallback","contactService","returnedBlogs","useEffect","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","addBlog","event","preventDefault","blogObject","url","hit","setTimeout","concat","catch","error","handleTitleChange","target","handleAuthorChange","handleUrlChange","handleSearchTermChange","handleLogin","loginService","setItem","stringify","handleLogout","clear","handleUsernameChange","handlePasswordChange","AddBlogForm","map","likedBlog","find","person","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8bbc63a7.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst SearchForm = (props) => (\n    <div>\n        Search <input onChange={props.onChange} />\n    </div>\n)\n\nexport default SearchForm","import React from 'react'\n\n\nconst AddPersonForm = (props) => (\n    <form onSubmit={props.onSubmit}>\n        <div>\n            Title: <input value={props.titleValue} onChange={props.onTitleChange} />\n        </div>\n        <div>\n            Author: <input value={props.authorValue} onChange={props.onAuthorChange} />\n        </div>\n        <div>\n            Url: <input value={props.urlValue} onChange={props.onUrlChange} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst DisplayBlog = ({ blog, toggleDelete, toggleLike }) => {\n    // console.log('displayblogissa', blog)\n\t// console.log('blog', blog)\n    return (\n        <li className='blog' key={blog.title}>\n            {blog.title} by {blog.author} with {blog.likes} likes\n\t\t\t<button onClick={toggleLike}>like</button>\n            <button onClick={toggleDelete}>delete</button>\n        </li>\n    )\n\n}\n\n\nexport default DisplayBlog","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token},\n  }\n\n  // vanhat:\n  // console.log(newObject)\n  // const request = axios.post(baseUrl, newObject)\n  // return request.then(response => response.data)\n  \n  //uusi:\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\n//   return request.then(response => response.data)\n// }\n\nconst remove = (id) => {\n  console.log('tassa', id)\n  const request = axios.delete(baseUrl + `/${id}`)\n  return request.then(response => response.data)\n}\n\nconst put = (id, blog) => {\n//   console.log('puttia koittamassa')\n//   console.log('putissa saatu id:', id, 'ja blog:', blog)\n\n  const request = axios.put(baseUrl + `/${id}`, blog)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, remove, put, setToken }","const Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/login' \n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nconst exportedObject = { login }\n\nexport default exportedObject","import React from 'react'\n\nconst LoginForm = (props) => (\n  <form onSubmit={props.onSubmit}>\n    <div>\n      username\n        <input\n        type=\"text\"\n        value={props.usernameValue}\n        name=\"Username\"\n        onChange={props.onUsernameChange}\n      />\n    </div>\n    <div>\n      password\n        <input\n        type=\"password\"\n        value={props.passwordValue}\n        name=\"Password\"\n        onChange={props.onPasswordChange}\n      />\n    </div>\n    <button type=\"submit\">login</button>\n  </form>      \n)\n\n\nexport default LoginForm","import React, { useState, useEffect, useCallback } from 'react'\nimport SearchForm from './components/SearchForm'\nimport AddBlogForm from './components/AddBlogForm'\nimport DisplayBlog from './components/DisplayBlog'\nimport contactService from './services/contacts'\nimport Notification from './components/Notification'\nimport loginService from './services/login'\n\nimport LoginForm from './components/LoginForm'\n\n\nconst App = () => {\n\n\tconst [blogs, setBlogs] = useState([])\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\n\tconst [newTitle, setNewTitle] = useState('')\n\tconst [newAuthor, setNewAuthor] = useState('')\n\tconst [newUrl, setNewUrl] = useState('')\n\n\tconst [searchTerm, setSearchTerm] = useState('')\n\tconst blogsToShow = blogs.filter(blog => blog.title.toLowerCase().includes(searchTerm.toLowerCase()))\n\tconst [className, setClassName] = useState(null)\n\n\tconst [username, setUsername] = useState('')\n\tconst [password, setPassword] = useState('')\n\tconst [user, setUser] = useState(null)\n\n\n\tconst fetchPosts = useCallback(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(returnedBlogs => {\n\t\t\t\tsetBlogs(returnedBlogs)\n\t\t\t})\n\t}, [])\n\n\n\tuseEffect(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(initialBlogs => {\n\t\t\t\tsetBlogs(initialBlogs)\n\t\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tsetUser(user)\n\t\t\tcontactService.setToken(user.token)\n\t\t}\n\t}, [])\n\n\tconst addBlog = (event) => {\n\t\tevent.preventDefault()\n\t\tconst blogObject = {\n\t\t\ttitle: newTitle,\n\t\t\tauthor: newAuthor,\n\t\t\turl: newUrl\n\t\t}\n\t\tconsole.log(blogObject)\n\n\t\t// Tässä voisi tutkia onko listassa jo saman nimista blogia. \n\t\tconst hit = blogs.filter(blog => blog.title.toLowerCase() === newTitle.toLowerCase())\n\n\t\t// console.log('tämä on hit', hit[0])\n\n\t\tif (hit[0]) {\n\t\t\t// console.log('jos hit[0] on truthy')\n\t\t\tsetClassName('error')\n\t\t\tsetNotificationMessage(\n\t\t\t\t`A blog by the name ${hit[0].title} is already on Blogister.`\n\t\t\t)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassName(null)\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t}, 2000)\n\t\t\tsetNewTitle('')\n\t\t\tsetNewAuthor('')\n\t\t\tsetNewUrl('')\n\t\t\tsetSearchTerm('')\n\t\t\t// hit = null\n\t\t} else {\n\t\t\tcontactService\n\t\t\t\t.create(blogObject)\n\t\t\t\t.then(returnedBlogs => {\n\t\t\t\t\tsetBlogs(blogs.concat(returnedBlogs))\n\t\t\t\t\tsetNewTitle('')\n\t\t\t\t\tsetNewAuthor('')\n\t\t\t\t\tsetNewUrl('')\n\t\t\t\t\tsetSearchTerm('')\n\t\t\t\t\tsetClassName('update')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${blogObject.title} was added to the Blogister-list`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetClassName('error')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${error.response.data.error}`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst toggleLike = (id) => {\n\t\t// console.log('blog no ' + id + ' needs to be liked')\n\t\tconst hits = blogs.filter(blog => blog.id === id)\n\t\tconst likedBlog = hits[0]\n\n\t\tconst blogObject = {\n\t\t\ttitle: likedBlog.title,\n\t\t\tauthor: likedBlog.author,\n\t\t\turl: likedBlog.url,\n\t\t\tlikes: likedBlog.likes + 1\n\t\t}\n\t\tcontactService\n\t\t\t.put(id, blogObject)\n\t\t\t.then(() => {\n\t\t\t\tfetchPosts()\n\t\t\t\tsetClassName('update')\n\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t`You liked ${blogObject.title}!`\n\t\t\t\t)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetClassName(null)\n\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t}, 3000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\n\t}\n\n\n\tconst toggleDelete = (id) => {\n\t\tconsole.log('blog no ' + id + ' needs to be deleted')\n\t\tconst blog = blogsToShow.find(person => person.id === id)\n\t\tif (window.confirm(`Delete ${blog.title} ?`)) {\n\t\t\tcontactService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetClassName('delete')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${blog.title} was removed from the Blogister-list`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetClassName('delete')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`Information of ${blog.title} has already been removed from the server.`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\n\t\t}\n\t}\n\n\tconst handleTitleChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewTitle(event.target.value)\n\t}\n\n\tconst handleAuthorChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewAuthor(event.target.value)\n\t}\n\n\tconst handleUrlChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewUrl(event.target.value)\n\t}\n\n\tconst handleSearchTermChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetSearchTerm(event.target.value.toLowerCase())\n\t}\n\n\tconst handleLogin = async (event) => {\n\t\tevent.preventDefault()\n\t\t//console.log('logging in with', username, password)\n\t\ttry {\n\t\t\tconst user = await loginService.login({\n\t\t\t\tusername, password\n\t\t\t})\n\t\t\twindow.localStorage.setItem(\n        'loggedBlogAppUser', JSON.stringify(user)\n      ) \n\t\t\tcontactService.setToken(user.token)\n\t\t\tsetUser(user)\n\t\t\tsetUsername('')\n\t\t\tsetPassword('')\n\t\t} catch (exception) {\n\t\t\tsetClassName('delete')\n\t\t\tsetNotificationMessage('wrong credentials')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassName(null)\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t}, 5000)\n\t\t}\n\t}\n\n\tconst handleLogout = async (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log('logging out with the username', username)\n\t\tlocalStorage.clear()\n\t\tsetClassName('update')\n\t\tsetNotificationMessage('Logged out')\n\t\tsetTimeout(() => {\n\t\t\tsetClassName(null)\n\t\t\tsetNotificationMessage(null)\n\t\t}, 5000)\n\n\t}\n\n\tconst handleUsernameChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetUsername(event.target.value)\n\t}\n\n\tconst handlePasswordChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetPassword(event.target.value)\n\t}\n\n\tconst loginForm = () => {\n\t\treturn <LoginForm \n\t\t\tonSubmit={handleLogin} \n\t\t\tusernameValue={username} \n\t\t\tonUsernameChange={handleUsernameChange} \n\t\t\tpasswordValue={password} \n\t\t\tonPasswordChange={handlePasswordChange} \n\t\t/>\n\t}\n\n\tconst blogForm = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<SearchForm onChange={handleSearchTermChange} />\n\t\t\t\t<h2>Add a new blog to the list</h2>\n\t\t\t\t<AddBlogForm \n\t\t\t\t\tonSubmit={addBlog} \n\t\t\t\t\ttitleValue={newTitle} \n\t\t\t\t\tonTitleChange={handleTitleChange} \n\t\t\t\t\tauthorValue={newAuthor} \n\t\t\t\t\tonAuthorChange={handleAuthorChange} \n\t\t\t\t\turlValue={newUrl} \n\t\t\t\t\tonUrlChange={handleUrlChange} \n\t\t\t\t/>\n\t\t\t\t<h2>Blogs</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{blogsToShow.map(blog => (\n\t\t\t\t\t\t<DisplayBlog\n\t\t\t\t\t\t\tkey={blog.id}\n\t\t\t\t\t\t\tblog={blog}\n\t\t\t\t\t\t\ttoggleLike={() => toggleLike(blog.id)}\n\t\t\t\t\t\t\ttoggleDelete={() => toggleDelete(blog.id)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Blogister v. 0.0.3.6.2</h1>\n\n\t\t\t{user === null ?\n\t\t\t\tloginForm() :\n\t\t\t\t<div>\n\t\t\t\t\t<p>Logged in as: {user.name} <button onClick={handleLogout}>logout</button></p> \n\t\t\t\t\t{blogForm()}\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<Notification message={notificationMessage} className={className} />\n\n\t\t</div>\n\t)\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n) "],"sourceRoot":""}