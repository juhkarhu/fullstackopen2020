{"version":3,"sources":["components/SearchForm.js","components/BlogForm.js","components/DisplayBlog.js","components/Notification.js","components/LoginForm.js","components/Togglable.js","services/login.js","services/contacts.js","App.js","index.js"],"names":["SearchForm","props","onChange","AddBlogForm","createBlog","useState","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","onSubmit","event","preventDefault","title","author","url","value","target","type","DisplayBlog","blog","toggleDelete","toggleLike","className","likes","onClick","Notification","message","LoginForm","username","password","onUsernameChange","onPasswordChange","handleSubmit","Togglable","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","style","buttonLabel","children","exportedObject","login","credentials","a","axios","post","response","data","baseUrl","token","getAll","get","then","create","newObject","config","headers","Authorization","remove","id","console","log","delete","put","setToken","newToken","App","blogs","setBlogs","notificationMessage","setNotificationMessage","searchTerm","setSearchTerm","blogsToShow","filter","toLowerCase","includes","setClassName","setUsername","setPassword","user","setUser","fetchPosts","useCallback","contactService","returnedBlogs","useEffect","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","setNotification","setTimeout","addBlog","blogObject","hit","concat","catch","error","handleSearchTermChange","handleLogin","loginService","setItem","stringify","handleLogout","clear","location","reload","name","map","likedBlog","find","person","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4f4b6b34.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst SearchForm = (props) => (\n    <div>\n        Search <input onChange={props.onChange} />\n    </div>\n)\n\nexport default SearchForm","import React, { useState } from 'react'\n\n\n\n\n\nconst AddBlogForm = ({ createBlog }) => {\n\n    const [newTitle, setNewTitle] = useState('')\n    const [newAuthor, setNewAuthor] = useState('')\n    const [newUrl, setNewUrl] = useState('')\n\n    const handleTitleChange = (event) => {\n        event.preventDefault()\n        setNewTitle(event.target.value)\n    }\n\n    const handleAuthorChange = (event) => {\n        event.preventDefault()\n        setNewAuthor(event.target.value)\n    }\n\n    const handleUrlChange = (event) => {\n        event.preventDefault()\n        setNewUrl(event.target.value)\n    }\n\n\n    const addBlog = (event) => {\n        event.preventDefault()\n        createBlog({\n            title: newTitle,\n            author: newAuthor,\n            url: newUrl\n        })\n        setNewTitle('')\n        setNewAuthor('')\n        setNewUrl('')\n    }\n\n\n    return (\n        <form onSubmit={addBlog}>\n            <div>\n                Title: <input value={newTitle} onChange={handleTitleChange} />\n            </div>\n            <div>\n                Author: <input value={newAuthor} onChange={handleAuthorChange} />\n            </div>\n            <div>\n                Url: <input value={newUrl} onChange={handleUrlChange} />\n            </div>\n            <div>\n                <button type=\"submit\">Add</button>\n            </div>\n        </form>\n    )\n\n}\n\n\nexport default AddBlogForm","import React from 'react'\n\nconst DisplayBlog = ({ blog, toggleDelete, toggleLike }) => {\n    // console.log('displayblogissa', blog)\n\t// console.log('blog', blog)\n    return (\n        <li className='blog' key={blog.title}>\n            {blog.title} by {blog.author} with {blog.likes} likes\n\t\t\t<button onClick={toggleLike}>like</button>\n            <button onClick={toggleDelete}>delete</button>\n        </li>\n    )\n\n}\n\n\nexport default DisplayBlog","const Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React from 'react'\n\nconst LoginForm = ({\n  username,\n  password,\n  onUsernameChange,\n  onPasswordChange,\n  handleSubmit\n}) => {\n  return (\n    <div>\n      <h2>Login</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          username\n          <input\n            value={username}\n            onChange={onUsernameChange}\n          />\n        </div>\n        <div>\n          password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={onPasswordChange}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n\n    </div>\n  )\n}\n\n\nexport default LoginForm","import React, { useState } from 'react'\n\nconst Togglable = (props) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>Cancel</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/login' \n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nconst exportedObject = { login }\n\nexport default exportedObject","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token},\n  }\n\n  // vanhat:\n  // console.log(newObject)\n  // const request = axios.post(baseUrl, newObject)\n  // return request.then(response => response.data)\n  \n  //uusi:\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\n//   return request.then(response => response.data)\n// }\n\nconst remove = async (id) => {\n  console.log('tassa', id)\n  const config = {\n    headers: { Authorization: token},\n  }\n\n  // Old method I guess, check\n  // const request = axios.delete(baseUrl + `/${id}`)\n  // return request.then(response => response.data)\n\n  const response = await axios.delete(baseUrl + `/${id}`, config)\n  return response.data\n}\n\nconst put = (id, blog) => {\n//   console.log('puttia koittamassa')\n//   console.log('putissa saatu id:', id, 'ja blog:', blog)\n\n  const request = axios.put(baseUrl + `/${id}`, blog)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, remove, put, setToken }","import React, { useState, useEffect, useCallback } from 'react'\nimport SearchForm from './components/SearchForm'\nimport AddBlogForm from './components/BlogForm'\nimport DisplayBlog from './components/DisplayBlog'\nimport Notification from './components/Notification'\nimport LoginForm from './components/LoginForm'\n\nimport Togglable from './components/Togglable'\n\nimport loginService from './services/login'\nimport contactService from './services/contacts'\n\n\nconst App = () => {\n\n\tconst [blogs, setBlogs] = useState([])\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\n\tconst [searchTerm, setSearchTerm] = useState('')\n\tconst blogsToShow = blogs.filter(blog => blog.title.toLowerCase().includes(searchTerm.toLowerCase()))\n\tconst [className, setClassName] = useState(null)\n\n\tconst [username, setUsername] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tconst [user, setUser] = useState(null)\n\n\n\tconst fetchPosts = useCallback(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(returnedBlogs => {\n\t\t\t\tsetBlogs(returnedBlogs)\n\t\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(initialBlogs => {\n\t\t\t\tsetBlogs(initialBlogs)\n\t\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tsetUser(user)\n\t\t\tcontactService.setToken(user.token)\n\t\t}\n\t}, [])\n\n\t//TODO Unify all notification setters.\n\tconst setNotification = ({ message, type }) => {\n\n\t\tconsole.log(type, message)\n\t\t// if (type === 'error') {\n\t\t// \tsetClassName('error')\n\t\t// }\n\t\t// if (type === 'update') {\n\t\t// \tsetClassName('error')\n\t\t// }\n\t\t// if (type === 'error') {\n\t\t\t\n\t\t// }\n\n\t\tsetClassName(type)\n\t\tsetNotificationMessage(\n\t\t\t`${message}`\n\t\t)\n\t\tsetTimeout(() => {\n\t\t\tsetClassName(null)\n\t\t\tsetNotificationMessage(null)\n\t\t}, 3000)\n\n\t}\n\n\tconst addBlog = (blogObject) => {\n\n\t\t// *console.log(blogObject)\n\n\t\t// Checks if a blog with the same already exists\n\t\tconst hit = blogs.filter(blog => blog.title.toLowerCase() === blogObject.title.toLowerCase())\n\n\t\tif (hit[0]) {\n\t\t\tsetNotification({\n\t\t\t\tmessage: `A blog by the name ${hit[0].title} is already on Blogister.`,\n\t\t\t\ttype: 'error'\n\t\t\t})\n\t\t\t// setClassName('error')\n\t\t\t// setNotificationMessage(\n\t\t\t// \t`A blog by the name ${hit[0].title} is already on Blogister.`\n\t\t\t// )\n\t\t\t// setTimeout(() => {\n\t\t\t// \tsetClassName(null)\n\t\t\t// \tsetNotificationMessage(null)\n\t\t\t// }, 2000)\n\t\t} else {\n\t\t\tcontactService\n\t\t\t\t.create(blogObject)\n\t\t\t\t.then(returnedBlogs => {\n\t\t\t\t\tsetBlogs(blogs.concat(returnedBlogs))\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${blogObject.title} was added to the Blogister-list`,\n\t\t\t\t\t\ttype: 'update'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: error.response.data,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst toggleLike = (id) => {\n\t\t// console.log('blog no ' + id + ' needs to be liked')\n\t\tconst hits = blogs.filter(blog => blog.id === id)\n\t\tconst likedBlog = hits[0]\n\n\t\tconst blogObject = {\n\t\t\ttitle: likedBlog.title,\n\t\t\tauthor: likedBlog.author,\n\t\t\turl: likedBlog.url,\n\t\t\tlikes: likedBlog.likes + 1\n\t\t}\n\t\tcontactService\n\t\t\t.put(id, blogObject)\n\t\t\t.then(() => {\n\t\t\t\tfetchPosts()\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `You liked ${blogObject.title}!`,\n\t\t\t\t\ttype: 'update'\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\n\t}\n\n\tconst toggleDelete = (id) => {\n\t\tconsole.log('blog no ' + id + ' needs to be deleted')\n\t\tconst blog = blogsToShow.find(person => person.id === id)\n\t\tif (window.confirm(`Delete ${blog.title} ?`)) {\n\t\t\tcontactService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${blog.title} was removed from the Blogister-list`,\n\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetClassName('delete')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`Error has occurred. Could not delete ${blog.title}.`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\n\t\t}\n\t}\n\n\t// const handleTitleChange = (event) => {\n\t// \tevent.preventDefault()\n\t// \tsetNewTitle(event.target.value)\n\t// }\n\n\t// const handleAuthorChange = (event) => {\n\t// \tevent.preventDefault()\n\t// \tsetNewAuthor(event.target.value)\n\t// }\n\n\t// const handleUrlChange = (event) => {\n\t// \tevent.preventDefault()\n\t// \tsetNewUrl(event.target.value)\n\t// }\n\n\tconst handleSearchTermChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetSearchTerm(event.target.value.toLowerCase())\n\t}\n\n\tconst handleLogin = async (event) => {\n\t\tevent.preventDefault()\n\t\t//console.log('logging in with', username)\n\t\ttry {\n\t\t\tconst user = await loginService.login({\n\t\t\t\tusername, password\n\t\t\t})\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'loggedBlogAppUser', JSON.stringify(user)\n\t\t\t)\n\t\t\tcontactService.setToken(user.token)\n\t\t\tsetUser(user)\n\t\t\tsetUsername('')\n\t\t\tsetPassword('')\n\t\t} catch (exception) {\n\t\t\tsetClassName('delete')\n\t\t\tsetNotificationMessage('wrong username or password')\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassName(null)\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t}, 5000)\n\t\t}\n\t}\n\n\tconst handleLogout = async (event) => {\n\t\tevent.preventDefault()\n\t\t//console.log('logging out with the username', username)\n\t\tlocalStorage.clear()\n\t\twindow.location.reload()\n\t\tsetClassName('update')\n\t\tsetNotificationMessage('Logged out')\n\t\tsetTimeout(() => {\n\t\t\tsetClassName(null)\n\t\t\tsetNotificationMessage(null)\n\t\t}, 5000)\n\n\t}\n\n\tconst loginForm = () => (\n\t\t<Togglable buttonLabel='log in'>\n\t\t\t<LoginForm\n\t\t\t\tusername={username}\n\t\t\t\tpassword={password}\n\t\t\t\tonUsernameChange={({ target }) => setUsername(target.value)}\n\t\t\t\tonPasswordChange={({ target }) => setPassword(target.value)}\n\t\t\t\thandleSubmit={handleLogin}\n\t\t\t/>\n\t\t</Togglable>\n\t)\n\n\tconst blogForm = () => {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<SearchForm onChange={handleSearchTermChange} />\n\t\t\t\t<h2>Add a new blog to the list</h2>\n\n\t\t\t\t<Togglable buttonLabel='Add a new blog'>\n\t\t\t\t\t<AddBlogForm\n\t\t\t\t\t\tcreateBlog={addBlog}\n\t\t\t\t\t// titleValue={newTitle}\n\t\t\t\t\t// onTitleChange={handleTitleChange}\n\t\t\t\t\t// authorValue={newAuthor}\n\t\t\t\t\t// onAuthorChange={handleAuthorChange}\n\t\t\t\t\t// urlValue={newUrl}\n\t\t\t\t\t// onUrlChange={handleUrlChange}\n\t\t\t\t\t/>\n\t\t\t\t</Togglable>\n\n\t\t\t\t<h2>Blogs</h2>\n\t\t\t\t<ul>\n\t\t\t\t\t{blogsToShow.map(blog => (\n\t\t\t\t\t\t<DisplayBlog\n\t\t\t\t\t\t\tkey={blog.id}\n\t\t\t\t\t\t\tblog={blog}\n\t\t\t\t\t\t\ttoggleLike={() => toggleLike(blog.id)}\n\t\t\t\t\t\t\ttoggleDelete={() => toggleDelete(blog.id)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Blogister v. 0.0.4</h1>\n\n\t\t\t{user === null ?\n\t\t\t\tloginForm() :\n\t\t\t\t<div>\n\t\t\t\t\t<p>Logged in as: {user.name} <button onClick={handleLogout}>logout</button></p>\n\t\t\t\t\t{blogForm()}\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<Notification message={notificationMessage} className={className} />\n\n\t\t</div>\n\t)\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n) "],"sourceRoot":""}