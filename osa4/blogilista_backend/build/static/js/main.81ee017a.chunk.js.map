{"version":3,"sources":["components/SearchForm.js","components/BlogForm.js","components/DisplayBlog.js","components/Notification.js","components/LoginForm.js","components/Togglable.js","services/login.js","services/contacts.js","App.js","index.js"],"names":["SearchForm","props","onChange","AddBlogForm","createBlog","useState","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","onSubmit","event","preventDefault","title","author","url","value","target","type","DisplayBlog","blog","toggleDelete","toggleLike","className","likes","onClick","Notification","message","LoginForm","username","password","onUsernameChange","onPasswordChange","handleSubmit","Togglable","React","forwardRef","ref","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","buttonLabel","children","exportedObject","login","credentials","a","axios","post","response","data","baseUrl","token","getAll","get","then","create","newObject","config","headers","Authorization","remove","id","console","log","delete","put","setToken","newToken","App","blogs","setBlogs","notificationMessage","setNotificationMessage","searchTerm","setSearchTerm","blogsToShow","filter","toLowerCase","includes","setClassName","setUsername","setPassword","user","setUser","blogFormRef","useRef","useEffect","contactService","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","setNotification","setTimeout","addBlog","blogObject","hit","current","returnedBlogs","concat","catch","error","handleLogin","loginService","setItem","stringify","handleLogout","clear","location","reload","name","map","likedBlog","returnedBlog","find","person","confirm","newBlogList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.81ee017a.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst SearchForm = (props) => (\n    <div>\n        Search <input onChange={props.onChange} />\n    </div>\n)\n\nexport default SearchForm","import React, { useState } from 'react'\n\n\n\n\n\nconst AddBlogForm = ({ createBlog }) => {\n\n    const [newTitle, setNewTitle] = useState('')\n    const [newAuthor, setNewAuthor] = useState('')\n    const [newUrl, setNewUrl] = useState('')\n\n    const handleTitleChange = (event) => {\n        event.preventDefault()\n        setNewTitle(event.target.value)\n    }\n\n    const handleAuthorChange = (event) => {\n        event.preventDefault()\n        setNewAuthor(event.target.value)\n    }\n\n    const handleUrlChange = (event) => {\n        event.preventDefault()\n        setNewUrl(event.target.value)\n    }\n\n\n    const addBlog = (event) => {\n        event.preventDefault()\n        createBlog({\n            title: newTitle,\n            author: newAuthor,\n            url: newUrl\n        })\n        setNewTitle('')\n        setNewAuthor('')\n        setNewUrl('')\n    }\n\n\n    return (\n        <div>\n            <h2>Add a new blog to the list</h2>\n\n            <form onSubmit={addBlog}>\n                <div>\n                    Title: <input value={newTitle} onChange={handleTitleChange} />\n                </div>\n                <div>\n                    Author: <input value={newAuthor} onChange={handleAuthorChange} />\n                </div>\n                <div>\n                    Url: <input value={newUrl} onChange={handleUrlChange} />\n                </div>\n                <div>\n                    <button type=\"submit\">Add</button>\n                </div>\n            </form>\n            \n        </div>\n\n    )\n\n}\n\n\nexport default AddBlogForm","import React from 'react'\n\nconst DisplayBlog = ({ blog, toggleDelete, toggleLike }) => {\n    // console.log('displayblogissa', blog)\n\t// console.log('blog', blog)\n    return (\n        <li className='blog' key={blog.title}>\n            {blog.title} by {blog.author} with {blog.likes} likes\n\t\t\t<button onClick={toggleLike}>like</button>\n            <button onClick={toggleDelete}>delete</button>\n        </li>\n    )\n\n}\n\n\nexport default DisplayBlog","const Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React from 'react'\n\nconst LoginForm = ({\n  username,\n  password,\n  onUsernameChange,\n  onPasswordChange,\n  handleSubmit\n}) => {\n  return (\n    <div>\n      <h2>Login</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          username\n          <input\n            value={username}\n            onChange={onUsernameChange}\n          />\n        </div>\n        <div>\n          password\n          <input\n            type=\"password\"\n            value={password}\n            onChange={onPasswordChange}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n\n    </div>\n  )\n}\n\n\nexport default LoginForm","import React, { useState, useImperativeHandle } from 'react'\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false)\n\n  const hideWhenVisible = { display: visible ? 'none' : '' }\n  const showWhenVisible = { display: visible ? '' : 'none' }\n\n  const toggleVisibility = () => {\n    setVisible(!visible)\n  }\n\n  useImperativeHandle(ref, () => {\n    return {\n      toggleVisibility\n    }\n  })\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisibility}>Cancel</button>\n      </div>\n    </div>\n  )\n})\n\nexport default Togglable","import axios from 'axios'\nconst baseUrl = '/api/login' \n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nconst exportedObject = { login }\n\nexport default exportedObject","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'api/blogs'\n\nlet token = null\n\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token},\n  }\n\n  // vanhat:\n  // console.log(newObject)\n  // const request = axios.post(baseUrl, newObject)\n  // return request.then(response => response.data)\n  \n  //uusi:\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\n//   return request.then(response => response.data)\n// }\n\nconst remove = async (id) => {\n  console.log('tassa', id)\n  const config = {\n    headers: { Authorization: token},\n  }\n\n  // Old method I guess, check\n  // const request = axios.delete(baseUrl + `/${id}`)\n  // return request.then(response => response.data)\n\n  const response = await axios.delete(baseUrl + `/${id}`, config)\n  return response.data\n}\n\nconst put = (id, blog) => {\n//   console.log('puttia koittamassa')\n//   console.log('putissa saatu id:', id, 'ja blog:', blog)\n\n  const request = axios.put(baseUrl + `/${id}`, blog)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, remove, put, setToken }","import React, { useState, useEffect, useRef } from 'react'\nimport SearchForm from './components/SearchForm'\nimport AddBlogForm from './components/BlogForm'\nimport DisplayBlog from './components/DisplayBlog'\nimport Notification from './components/Notification'\nimport LoginForm from './components/LoginForm'\nimport Togglable from './components/Togglable'\nimport loginService from './services/login'\nimport contactService from './services/contacts'\n\n\nconst App = () => {\n\n\tconst [blogs, setBlogs] = useState([])\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\n\tconst [searchTerm, setSearchTerm] = useState('')\n\tconst blogsToShow = blogs.filter(blog => blog.title.toLowerCase().includes(searchTerm.toLowerCase()))\n\tconst [className, setClassName] = useState(null)\n\n\tconst [username, setUsername] = useState('')\n\tconst [password, setPassword] = useState('')\n\n\tconst [user, setUser] = useState(null)\n\n\tconst blogFormRef = useRef()\n\n\n\tuseEffect(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(initialBlogs => {\n\t\t\t\tsetBlogs(initialBlogs)\n\t\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tconst loggedUserJSON = window.localStorage.getItem('loggedBlogAppUser')\n\t\tif (loggedUserJSON) {\n\t\t\tconst user = JSON.parse(loggedUserJSON)\n\t\t\tsetUser(user)\n\t\t\tcontactService.setToken(user.token)\n\t\t}\n\t}, [])\n\n\n\tconst setNotification = ({ message, type }) => {\n\t\tsetClassName(type)\n\t\tsetNotificationMessage(\n\t\t\t`${message}`\n\t\t)\n\t\tsetTimeout(() => {\n\t\t\tsetClassName(null)\n\t\t\tsetNotificationMessage(null)\n\t\t}, 3000)\n\t}\n\n\tconst addBlog = (blogObject) => {\n\t\t// Checks if a blog with the same already exists\n\t\tconst hit = blogs.filter(blog => blog.title.toLowerCase() === blogObject.title.toLowerCase())\n\n\t\tif (hit[0]) {\n\t\t\tsetNotification({\n\t\t\t\tmessage: `A blog by the name ${hit[0].title} is already on Blogister.`,\n\t\t\t\ttype: 'error'\n\t\t\t})\n\t\t} else {\n\t\t\tblogFormRef.current.toggleVisibility()\n\t\t\tcontactService\n\t\t\t\t.create(blogObject)\n\t\t\t\t.then(returnedBlogs => {\n\t\t\t\t\tsetBlogs(blogs.concat(returnedBlogs))\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${blogObject.title} was added to the Blogister-list`,\n\t\t\t\t\t\ttype: 'update'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: error.response.data,\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst toggleLike = (id) => {\n\t\t// console.log('blog no ' + id + ' needs to be liked')\n\t\tconst hits = blogs.filter(blog => blog.id === id)\n\t\tconst likedBlog = hits[0]\n\n\t\tconst blogObject = {\n\t\t\ttitle: likedBlog.title,\n\t\t\tauthor: likedBlog.author,\n\t\t\turl: likedBlog.url,\n\t\t\tlikes: likedBlog.likes + 1\n\t\t}\n\t\tcontactService\n\t\t\t.put(id, blogObject)\n\t\t\t.then((returnedBlog) => {\n\t\t\t\tsetBlogs(blogs.map(blog => blog.id !== id ? blog : returnedBlog))\n\t\t\t\tsetNotification({\n\t\t\t\t\tmessage: `You liked ${blogObject.title}!`,\n\t\t\t\t\ttype: 'update'\n\t\t\t\t})\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\n\t}\n\n\tconst toggleDelete = (id) => {\n\t\t// console.log('blog no ' + id + ' needs to be deleted')\n\t\tconst blog = blogsToShow.find(person => person.id === id)\n\t\tif (window.confirm(`Delete ${blog.title} ?`)) {\n\t\t\tcontactService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tconst newBlogList = blogs.filter((blog => blog.id !== id))\n\t\t\t\t\tsetBlogs(newBlogList)\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `${blog.title} was removed from the Blogister-list`,\n\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotification({\n\t\t\t\t\t\tmessage: `Error has occurred. Could not delete ${blog.title}.`,\n\t\t\t\t\t\ttype: 'delete'\n\t\t\t\t\t})\n\t\t\t\t})\n\n\t\t}\n\t}\n\n\n\tconst handleSearchTermChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetSearchTerm(event.target.value.toLowerCase())\n\t}\n\n\tconst handleLogin = async (event) => {\n\t\tevent.preventDefault()\n\t\t//console.log('logging in with', username)\n\t\ttry {\n\t\t\tconst user = await loginService.login({\n\t\t\t\tusername, password\n\t\t\t})\n\t\t\twindow.localStorage.setItem(\n\t\t\t\t'loggedBlogAppUser', JSON.stringify(user)\n\t\t\t)\n\t\t\tcontactService.setToken(user.token)\n\t\t\tsetUser(user)\n\t\t\tsetUsername('')\n\t\t\tsetPassword('')\n\t\t} catch (exception) {\n\t\t\tsetNotification({\n\t\t\t\tmessage: 'wrong username or password',\n\t\t\t\ttype: 'delete'\n\t\t\t})\n\t\t}\n\t}\n\n\tconst handleLogout = async (event) => {\n\t\tevent.preventDefault()\n\t\t//console.log('logging out with the username', username)\n\t\tlocalStorage.clear()\n\t\twindow.location.reload()\n\t\tsetNotification({\n\t\t\tmessage: 'Succesfully logged out',\n\t\t\ttype: 'update'\n\t\t})\n\t}\n\n\tconst loginForm = () => (\n\t\t<Togglable buttonLabel='log in'>\n\t\t\t<LoginForm\n\t\t\t\tusername={username}\n\t\t\t\tpassword={password}\n\t\t\t\tonUsernameChange={({ target }) => setUsername(target.value)}\n\t\t\t\tonPasswordChange={({ target }) => setPassword(target.value)}\n\t\t\t\thandleSubmit={handleLogin}\n\t\t\t/>\n\t\t</Togglable>\n\t)\n\n\tconst blogAddingForm = () => (\n\t\t<Togglable buttonLabel='Add a new blog' ref={blogFormRef}>\n\t\t\t<AddBlogForm\n\t\t\t\tcreateBlog={addBlog}\n\t\t\t/>\n\t\t</Togglable>\n\t)\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Blogister v. 0.0.4</h1>\n\n\t\t\t{user === null ?\n\t\t\t\tloginForm() :\n\t\t\t\t<div>\n\n\t\t\t\t\t<p>Logged in as: {user.name} <button onClick={handleLogout}>logout</button></p>\n\n\t\t\t\t\t<SearchForm onChange={handleSearchTermChange} />\n\n\t\t\t\t\t{blogAddingForm()}\n\n\t\t\t\t\t<h2>Blogs</h2>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{blogsToShow.map(blog => (\n\t\t\t\t\t\t\t<DisplayBlog\n\t\t\t\t\t\t\t\tkey={blog.id}\n\t\t\t\t\t\t\t\tblog={blog}\n\t\t\t\t\t\t\t\ttoggleLike={() => toggleLike(blog.id)}\n\t\t\t\t\t\t\t\ttoggleDelete={() => toggleDelete(blog.id)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\n\t\t\t\t</div>\n\t\t\t}\n\n\t\t\t<Notification message={notificationMessage} className={className} />\n\n\t\t</div>\n\t)\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n) "],"sourceRoot":""}