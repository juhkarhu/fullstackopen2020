{"version":3,"sources":["components/SearchForm.js","components/AddBlogForm.js","components/DisplayBlog.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["SearchForm","props","onChange","AddPersonForm","onSubmit","value","titleValue","onTitleChange","authorValue","onAuthorChange","urlValue","onUrlChange","type","DisplayBlog","blog","toggleDelete","toggleLike","className","title","author","likes","onClick","baseUrl","axios","get","then","response","data","newObject","console","log","post","id","delete","put","Notification","message","App","useState","blogs","setBlogs","notificationMessage","setNotificationMessage","newTitle","setNewTitle","newAuthor","setNewAuthor","newUrl","setNewUrl","searchTerm","setSearchTerm","blogsToShow","filter","toLowerCase","includes","setClassName","fetchPosts","useCallback","contactService","returnedBlogs","useEffect","initialBlogs","event","preventDefault","target","AddBlogForm","blogObject","url","hit","setTimeout","concat","catch","error","map","likedBlog","find","person","window","confirm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.77ef8c25.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst SearchForm = (props) => (\n    <div>\n        Search <input onChange={props.onChange} />\n    </div>\n)\n\nexport default SearchForm","import React from 'react'\n\n\nconst AddPersonForm = (props) => (\n    <form onSubmit={props.onSubmit}>\n        <div>\n            Title: <input value={props.titleValue} onChange={props.onTitleChange} />\n        </div>\n        <div>\n            Author: <input value={props.authorValue} onChange={props.onAuthorChange} />\n        </div>\n        <div>\n            Url: <input value={props.urlValue} onChange={props.onUrlChange} />\n        </div>\n        <div>\n            <button type=\"submit\">add</button>\n        </div>\n    </form>\n)\n\nexport default AddPersonForm","import React from 'react'\n\nconst DisplayBlog = ({ blog, toggleDelete, toggleLike }) => {\n    // console.log('displayblogissa', blog)\n\t// console.log('blog', blog)\n    return (\n        <li className='blog' key={blog.title}>\n            {blog.title} by {blog.author} with {blog.likes} likes\n\t\t\t<button onClick={toggleLike}>like</button>\n            <button onClick={toggleDelete}>delete</button>\n        </li>\n    )\n\n}\n\n\nexport default DisplayBlog","import axios from 'axios'\n// const baseUrl = 'http://localhost:3001/persons'\nconst baseUrl = 'api/blogs'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  console.log(newObject)\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n// const update = (id, newObject) => {\n//   const request = axios.put(`${baseUrl}/${id}`, newObject)\n//   return request.then(response => response.data)\n// }\n\nconst remove = (id) => {\n  console.log('tassa', id)\n  const request = axios.delete(baseUrl + `/${id}`)\n  return request.then(response => response.data)\n}\n\nconst put = (id, blog) => {\n//   console.log('puttia koittamassa')\n//   console.log('putissa saatu id:', id, 'ja blog:', blog)\n\n  const request = axios.put(baseUrl + `/${id}`, blog)\n  return request.then(response => response.data)\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { getAll, create, remove, put }","const Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\n\nexport default Notification","import React, { useState, useEffect, useCallback } from 'react'\nimport SearchForm from './components/SearchForm'\nimport AddBlogForm from './components/AddBlogForm'\nimport DisplayBlog from './components/DisplayBlog'\nimport contactService from './services/contacts'\nimport Notification from './components/Notification'\n\n\nconst App = () => {\n\n\tconst [blogs, setBlogs] = useState([])\n\tconst [notificationMessage, setNotificationMessage] = useState(null)\n\n\tconst [newTitle, setNewTitle] = useState('')\n\tconst [newAuthor, setNewAuthor] = useState('')\n\tconst [newUrl, setNewUrl] = useState('')\n\n\tconst [searchTerm, setSearchTerm] = useState('')\n\tconst blogsToShow = blogs.filter(blog => blog.title.toLowerCase().includes(searchTerm.toLowerCase()))\n\tconst [className, setClassName] = useState(null)\n\n\n\tconst fetchPosts = useCallback(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(returnedBlogs => {\n\t\t\t\tsetBlogs(returnedBlogs)\n\t\t\t})\n\t}, [])\n\n\n\tuseEffect(() => {\n\t\tcontactService\n\t\t\t.getAll()\n\t\t\t.then(initialBlogs => {\n\t\t\t\tsetBlogs(initialBlogs)\n\t\t\t})\n\t}, [])\n\n\tconst addBlog = (event) => {\n\t\tevent.preventDefault()\n\t\tconst blogObject = {\n\t\t\ttitle: newTitle,\n\t\t\tauthor: newAuthor,\n\t\t\turl: newUrl\n\t\t}\n\t\tconsole.log(blogObject)\n\n\t\t// Tässä voisi tutkia onko listassa jo saman nimista blogia. \n\t\tconst hit = blogs.filter(blog => blog.title.toLowerCase() === newTitle.toLowerCase())\n\n\t\tconsole.log('tämä on hit', hit[0])\n\n\t\t// Jos jokin kentistä on tyhjä, niin tehdään seuraavat. \n\t\t// if (blogObject.number.length <= 0) {\n\t\t//   setClassName('error')\n\t\t//   setNotificationMessage(\n\t\t//     `Only a name was given, you need to specify a number as well`\n\t\t//   )\n\t\t//   setTimeout(() => {\n\t\t//     setClassName(null)\n\t\t//     setNotificationMessage(null)\n\t\t//   }, 2000)\n\t\t// } else \n\n\t\t// Jos tietokannassa oli jo tän niminen blogi, niin mitäs siitä voisikaan päivitellä.\n\t\tif (hit[0]) {\n\t\t\tconsole.log('jos hit[0] on truthy')\n\t\t\tsetClassName('error')\n\t\t\tsetNotificationMessage(\n\t\t\t\t`A blog by the name ${hit[0].title} is already on Blogister.`\n\t\t\t)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetClassName(null)\n\t\t\t\tsetNotificationMessage(null)\n\t\t\t}, 2000)\n\t\t\tsetNewTitle('')\n\t\t\tsetNewAuthor('')\n\t\t\tsetNewUrl('')\n\t\t\tsetSearchTerm('')\n\t\t\t// hit = null\n\t\t} else {\n\t\t\tcontactService\n\t\t\t\t.create(blogObject)\n\t\t\t\t.then(returnedBlogs => {\n\t\t\t\t\tsetBlogs(blogs.concat(returnedBlogs))\n\t\t\t\t\tsetNewTitle('')\n\t\t\t\t\tsetNewAuthor('')\n\t\t\t\t\tsetNewUrl('')\n\t\t\t\t\tsetSearchTerm('')\n\t\t\t\t\tsetClassName('update')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${blogObject.title} was added to the Blogister-list`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetClassName('error')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${error.response.data.error}`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t}\n\t}\n\n\tconst toggleLike = (id) => {\n\t\tconsole.log('blog no ' + id + ' needs to be liked')\n\t\tconst hits = blogs.filter(blog => blog.id === id)\n\t\tconst likedBlog = hits[0]\n\t\t// console.log('blogi josta pidettiin', likedBlog)\n\t\tconst blogObject = {\n\t\t\ttitle: likedBlog.title,\n\t\t\tauthor: likedBlog.author,\n\t\t\turl: likedBlog.url,\n\t\t\tlikes: likedBlog.likes + 1\n\t\t}\n\t\t// console.log('uusi objecti', blogObject)\n\n\t\tcontactService\n\t\t\t.put(id, blogObject)\n\t\t\t.then(() => {\n\t\t\t\tfetchPosts()\n\t\t\t\tsetClassName('update')\n\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t`You liked ${blogObject.title}!`\n\t\t\t\t)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetClassName(null)\n\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t}, 3000)\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.log(error)\n\t\t\t})\n\n\t}\n\n\n\tconst toggleDelete = (id) => {\n\t\tconsole.log('blog no ' + id + ' needs to be deleted')\n\t\tconst blog = blogsToShow.find(person => person.id === id)\n\t\tif (window.confirm(`Delete ${blog.title} ?`)) {\n\t\t\tcontactService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetClassName('delete')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`${blog.title} was removed from the Blogister-list`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tfetchPosts()\n\t\t\t\t\tsetClassName('delete')\n\t\t\t\t\tsetNotificationMessage(\n\t\t\t\t\t\t`Information of ${blog.title} has already been removed from the server.`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetClassName(null)\n\t\t\t\t\t\tsetNotificationMessage(null)\n\t\t\t\t\t}, 2000)\n\t\t\t\t})\n\n\t\t}\n\t}\n\n\tconst handleTitleChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewTitle(event.target.value)\n\t}\n\n\tconst handleAuthorChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewAuthor(event.target.value)\n\t}\n\n\tconst handleUrlChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetNewUrl(event.target.value)\n\t}\n\n\tconst handleSearchTermChange = (event) => {\n\t\tevent.preventDefault()\n\t\tsetSearchTerm(event.target.value.toLowerCase())\n\t}\n\n\n\n\n\treturn (\n\t\t<div>\n\t\t\t<h1>Blogister v. 0.0.3.1</h1>\n\t\t\t<Notification message={notificationMessage} className={className} />\n\t\t\t<SearchForm onChange={handleSearchTermChange} />\n\t\t\t<h2>Add a new blog to the list</h2>\n\t\t\t<AddBlogForm onSubmit={addBlog} titleValue={newTitle} onTitleChange={handleTitleChange} authorValue={newAuthor} onAuthorChange={handleAuthorChange} urlValue={newUrl} onUrlChange={handleUrlChange} />\n\t\t\t<h2>Blogs</h2>\n\t\t\t<ul>\n\t\t\t\t{blogsToShow.map(blog => (\n\t\t\t\t\t<DisplayBlog\n\t\t\t\t\t\tkey={blog.id}\n\t\t\t\t\t\tblog={blog}\n\t\t\t\t\t\ttoggleLike={() => toggleLike(blog.id)}\n\t\t\t\t\t\ttoggleDelete={() => toggleDelete(blog.id)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t)\n\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n) "],"sourceRoot":""}