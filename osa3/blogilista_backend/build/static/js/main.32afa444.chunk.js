(this.webpackJsonpblogilista_frontend=this.webpackJsonpblogilista_frontend||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n(14),l=n.n(c),u=n(3),a=n(0),i=function(e){return Object(a.jsxs)("div",{children:["Search ",Object(a.jsx)("input",{onChange:e.onChange})]})},r=function(e){return Object(a.jsxs)("form",{onSubmit:e.onSubmit,children:[Object(a.jsxs)("div",{children:["Title: ",Object(a.jsx)("input",{value:e.titleValue,onChange:e.onTitleChange})]}),Object(a.jsxs)("div",{children:["Author: ",Object(a.jsx)("input",{value:e.authorValue,onChange:e.onAuthorChange})]}),Object(a.jsxs)("div",{children:["Url: ",Object(a.jsx)("input",{value:e.urlValue,onChange:e.onUrlChange})]}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"submit",children:"add"})})]})},s=function(e){var t=e.blog,n=e.toggleDelete;return console.log("displayblogissa",t),Object(a.jsxs)("li",{children:[t.title," by ",t.author,Object(a.jsx)("button",{onClick:n,children:"delete"})]},t.title)},j=n(4),b=n.n(j),d="api/blogs",h=function(){return b.a.get(d).then((function(e){return e.data}))},f=function(e){return console.log(e),b.a.post(d,e).then((function(e){return e.data}))},g=function(e){return b.a.delete(d+"/".concat(e)).then((function(e){return e.data}))},O=function(e){var t=e.message,n=e.className;return null===t?null:Object(a.jsx)("div",{className:n,children:t})},v=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],l=Object(o.useState)(null),j=Object(u.a)(l,2),b=j[0],d=j[1],v=Object(o.useState)(""),x=Object(u.a)(v,2),m=x[0],p=x[1],C=Object(o.useState)(""),S=Object(u.a)(C,2),w=S[0],D=S[1],T=Object(o.useState)(""),V=Object(u.a)(T,2),y=V[0],B=V[1],k=Object(o.useState)(""),A=Object(u.a)(k,2),L=A[0],N=A[1],U=n.filter((function(e){return e.title.toLowerCase().includes(L.toLowerCase())})),E=Object(o.useState)(null),I=Object(u.a)(E,2),J=I[0],_=I[1],q=Object(o.useCallback)((function(){h().then((function(e){c(e)}))}),[]);Object(o.useEffect)((function(){h().then((function(e){c(e)}))}),[]);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Blogister v. 0.0.1"}),Object(a.jsx)(O,{message:b,className:J}),Object(a.jsx)(i,{onChange:function(e){e.preventDefault(),N(e.target.value.toLowerCase())}}),Object(a.jsx)("h2",{children:"Add a new blog to the list"}),Object(a.jsx)(r,{onSubmit:function(e){e.preventDefault();var t={title:m,author:w,url:y};console.log(t),f(t).then((function(e){c(n.concat(e)),p(""),D(""),B(""),N(""),_("update"),d("".concat(t.title," was added to the Blogister-list")),setTimeout((function(){_(null),d(null)}),2e3)})).catch((function(e){_("error"),d("".concat(e.response.data.error)),setTimeout((function(){_(null),d(null)}),4e3)}))},titleValue:m,onTitleChange:function(e){e.preventDefault(),p(e.target.value)},authorValue:w,onAuthorChange:function(e){e.preventDefault(),D(e.target.value)},urlValue:y,onUrlChange:function(e){e.preventDefault(),B(e.target.value)}}),Object(a.jsx)("h2",{children:"Blogs"}),Object(a.jsx)("ul",{children:U.map((function(e){return Object(a.jsx)(s,{blog:e,toggleDelete:function(){return function(e){console.log("blog no "+e+" needs to be deleted");var t=U.find((function(t){return t.id===e}));window.confirm("Delete ".concat(t.title," ?"))&&g(e).then((function(){q(),_("delete"),d("".concat(t.title," was removed from the Blogister-list")),setTimeout((function(){_(null),d(null)}),2e3)})).catch((function(e){q(),_("delete"),d("Information of ".concat(t.title," has already been removed from the server.")),setTimeout((function(){_(null),d(null)}),2e3)}))}(e.id)}},e.id)}))})]})};n(38);l.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.32afa444.chunk.js.map